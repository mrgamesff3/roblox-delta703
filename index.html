<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>Ù†ÙØ° Ø§Ù„Ø´Ø±ÙˆØ·</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">

<style>
/* --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© --- */
* { box-sizing: border-box; margin:0; padding:0; }

body {
  font-family: 'Cairo', 'Tahoma', sans-serif;
  background: radial-gradient(circle at center, #330000, #0f2e0f, #000000);
  color: #fffaf0; 
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow-x: hidden;
  padding: 20px 0;
  position: relative;
}

/* --- ØªØ£Ø«ÙŠØ± ØªØ³Ø§Ù‚Ø· Ø§Ù„Ø«Ù„Ø¬ --- */
.snow-container {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: -1; overflow: hidden;
}
.snow {
    position: absolute; width: 10px; height: 10px;
    background: white; border-radius: 50%; opacity: 0.8;
    animation: snowfall linear infinite;
}
@keyframes snowfall {
    0% { transform: translateY(-10vh) translateX(0); opacity: 1; }
    100% { transform: translateY(110vh) translateX(20px); opacity: 0.3; }
}

/* --- Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© --- */
.page-container {
  width: 95%;
  max-width: 600px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 25px;
  padding: 30px 25px;
  border: 2px solid rgba(255, 215, 0, 0.5);
  box-shadow: 0 0 30px rgba(255, 0, 0, 0.3), 
              inset 0 0 20px rgba(255, 215, 0, 0.2);
  position: relative;
  overflow: hidden;
}
.page-container::before { content: 'â„ï¸'; position: absolute; top: 10px; left: 10px; font-size: 25px; opacity: 0.5; }
.page-container::after { content: 'ğŸ'; position: absolute; bottom: 10px; right: 10px; font-size: 25px; opacity: 0.5; }

.top-image-container {
  width: 100%;
  border-radius: 15px;
  margin-bottom: 25px;
  overflow: hidden;
  border: 3px solid #c0a062;
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
  background-color: #000;
}
.top-image-container img { width: 100%; height: auto; display: block; object-fit: cover; }

h2 {
  font-family: 'Cinzel Decorative', cursive;
  font-size: 24px;
  margin-bottom: 20px;
  color: #ffd700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), 0 0 10px #ff4500;
  text-align: center;
  line-height: 1.4;
}

.progress-container {
  width: 100%; height: 24px;
  background-color: #2a0a0a;
  border-radius: 15px;
  overflow: hidden;
  border: 2px solid #c0a062;
  margin-bottom: 30px;
  position: relative;
}
.progress-bar {
  height: 100%; width: 0%;
  background: repeating-linear-gradient(45deg, #b30000, #b30000 10px, #ffffff 10px, #ffffff 20px);
  background-size: 28px 28px;
  transition: width 0.5s ease;
  border-radius: 15px;
  animation: moveStripe 1s linear infinite;
  box-shadow: 0 0 10px #ff0000;
}
@keyframes moveStripe { 0% { background-position: 0 0; } 100% { background-position: 28px 0; } }

/* --- Ø§Ù„Ø®Ø·ÙˆØ§Øª --- */
.step {
  display: flex; flex-direction: column;
  background: linear-gradient(145deg, #660000, #3d0000);
  border: 2px solid #c0a062;
  border-radius: 18px;
  padding: 18px 20px;
  margin: 15px auto;
  width: 100%;
  box-shadow: 0 4px 15px rgba(0,0,0,0.4);
  opacity: 0; pointer-events: none;
  transform: translateY(15px);
  transition: all 0.4s ease;
}
.step.active { opacity: 1; pointer-events: auto; transform: translateY(0); }
.step.completed { background: linear-gradient(145deg, #0f4d0f, #002900); border-color: #00ff00; }

.step-header { display: flex; align-items: center; justify-content: space-between; width: 100%; text-decoration: none; color: inherit; }
.step-title-group { display: flex; flex-direction: column; text-align: right; gap: 4px; }
.step-status-text { font-size: 12px; color: #ffd700; opacity: 0.8; font-weight: normal; }

.step span { font-weight: bold; font-size: 16px; }
.check { font-size: 24px; color: #ffd700; }

.wait-warning {
    display: none;
    background: rgba(255, 0, 0, 0.2);
    color: #ffcccc;
    font-size: 13px;
    padding: 8px;
    margin-top: 10px;
    border-radius: 8px;
    text-align: center;
    border: 1px dashed #ff4d4d;
}

.loading {
  display: inline-block; width: 20px; height: 20px;
  border: 3px solid rgba(255,215,0,0.3);
  border-top: 3px solid #ffd700;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

.final-section { margin-top: 35px; text-align: center; }
.final-message { font-size: 19px; margin-bottom: 15px; color: #ff4d4d; font-weight: bold; text-shadow: 0 0 5px #ff0000; }
.final-buttons { background: rgba(0,0,0,0.3); border-radius: 18px; border: 2px solid #c0a062; padding: 15px; width: 100%; position: relative; }
.final-buttons::before { content: 'ğŸ€'; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); font-size: 30px; }

.final-buttons a {
  display: block; background: linear-gradient(to bottom, #555, #333);
  color: #aaa; padding: 16px; border-radius: 14px; font-size: 18px; font-weight: bold;
  margin: 10px auto; pointer-events: none; opacity: 0.6; transition: all 0.3s ease; text-align: center; border: 1px solid #444; text-decoration: none;
}
.final-buttons a.active {
  background: linear-gradient(to bottom, #d40000, #990000); color: #ffd700;
  pointer-events: auto; opacity: 1; border: 2px solid #ffd700;
  box-shadow: 0 0 20px rgba(255, 0, 0, 0.8); animation: pulseGift 1.5s infinite;
}
@keyframes pulseGift {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

@media (max-width: 600px) {
  .final-buttons a { font-size: 19px !important; min-height: 65px; display: flex; align-items: center; justify-content: center; }
  .step span { font-size: 14px; }
}

#copyPopup {
  position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
  background: linear-gradient(to right, #d40000, #b30000); color: #ffd700;
  padding: 12px 25px; border-radius: 12px; font-weight: bold; opacity: 0; transition: opacity 0.5s; z-index: 9999;
}
</style>
</head>
<body>
  <div class="snow-container" id="snowBox"></div>

  <div class="page-container">
    <div class="top-image-container">
      <img src="https://i.postimg.cc/mgCNsMpb/1.jpg" alt="Free Fire Script" id="mainImage" />
    </div>

    <h2>ğŸ„ Ù†ÙØ° Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø£ÙˆÙ„Ø§Ù‹ Ù„ÙƒÙŠ ÙŠØªÙ… ÙØªØ­ Ù„Ùƒ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ ğŸ…</h2>

    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <div id="step1" class="step active">
        <a href="#" class="step-header" onclick="handleStep(1, 'https://www.youtube.com/@MRGAMESFF-k3q', 6); return false;">
            <div class="step-title-group">
                <span>ğŸ“ºğŸ”” Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ÙˆÙ‚Ù… Ø¨Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© 1 ÙˆØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¬Ø±Ø³</span>
                <span class="step-status-text" id="status1">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨Ø¯Ø¡...</span>
            </div>
            <span id="check1" class="check">â¡ï¸</span>
        </a>
        <div class="wait-warning" id="wait1">âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„Ø±Ø§Ø¨Ø· Ø£ÙˆÙ„Ø§Ù‹ ÙˆØ§Ù„Ø¨Ù‚Ø§Ø¡ Ù‡Ù†Ø§Ùƒ Ø«Ù… Ø§Ù„Ø¹ÙˆØ¯Ø© Ù‡Ù†Ø§.</div>
    </div>

    <div id="step2" class="step">
        <a href="#" class="step-header" onclick="handleStep(2, 'https://youtu.be/OfP1CgXp6Bk', 35); return false;">
            <div class="step-title-group">
                <span>ğŸ“ºâ–¶ï¸ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ÙˆØ´Ø§Ù‡Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù‡Ø°Ø§ ÙƒØ§Ù…Ù„Ø§ Ø¹Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©</span>
                <span class="step-status-text" id="status2">Ù…ØºÙ„Ù‚ ğŸ”’</span>
            </div>
            <span id="check2" class="check">â¡ï¸</span>
        </a>
        <div class="wait-warning" id="wait2">âš ï¸ ÙŠØ¬Ø¨ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙŠ ÙŠÙˆØªÙŠÙˆØ¨ ÙˆØ§Ù„Ø¹ÙˆØ¯Ø© Ù‡Ù†Ø§ Ù„Ù„ØªØ£ÙƒÙŠØ¯.</div>
    </div>    

    <div id="step3" class="step">
        <a href="#" class="step-header" onclick="handleStep(3, null, 10); return false;">
            <div class="step-title-group">
                <span>ğŸ‘ğŸ’¬ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ÙˆÙ‚Ù… Ø¨Ø¹Ù…Ù„ Ù„Ø§ÙŠÙƒ ÙˆØªØ¹Ù„ÙŠÙ‚ Ù…Ù…ÙŠØ² Ù„Ù„ÙÙŠØ¯ÙŠÙˆ Ù‡Ø°Ø§</span>
                <span class="step-status-text" id="status3">Ù…ØºÙ„Ù‚ ğŸ”’</span>
            </div>
            <span id="check3" class="check">â¡ï¸</span>
        </a>
        <div class="wait-warning" id="wait3">âš ï¸ Ø´Ø§Ù‡Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙƒØ§Ù…Ù„Ø§ Ø¨Ø¯ÙˆÙ† Ø§Ù† ØªÙÙˆØª Ø£ÙŠ Ø«Ø§Ù†ÙŠØ©</div>
    </div>

    <div id="step4" class="step">
        <a href="#" class="step-header" onclick="handleStep(4, 'https://www.youtube.com/@MRGAMESFFV2', 6); return false;">
            <div class="step-title-group">
                <span>ğŸ“ºğŸ”” Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ÙˆÙ‚Ù… Ø¨Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© 2 ÙˆØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø¬Ø±Ø³</span>
                <span class="step-status-text" id="status4">Ù…ØºÙ„Ù‚ ğŸ”’</span>
            </div>
            <span id="check4" class="check">â¡ï¸</span>
        </a>
        <div class="wait-warning" id="wait4">âš ï¸ Ø§Ø°Ù‡Ø¨ Ù„Ù„Ù‚Ù†Ø§Ø© ÙˆØ§Ø´ØªØ±Ùƒ Ø«Ù… Ø¹Ø¯ Ù‡Ù†Ø§ ÙÙˆØ±Ø§Ù‹.</div>
    </div>

    <div class="final-section">
      <div id="finalMessage" class="final-message">âŒ Ù†ÙÙ‘Ø° Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø£ÙˆÙ„Ø§Ù‹ Ù„ÙƒÙŠ ÙŠØªÙ… ÙØªØ­ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„</div>
      <div class="final-buttons">
        <a id="btnDownload" href="https://xdabo.com/9Lnnv7" onclick="goToDownload(); return false;">ğŸ…ğŸ Ù„ØªØ­Ù…ÙŠÙ„ Ù‡Ø§Ùƒ Ø¯Ù„ØªØ§ Ø§Ø®Ø± Ø§ØµØ¯Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ 703 Ø§Ø¶ØºØ· Ù‡Ù†Ø§</a>
      </div>
      <p class="footer-note">Â© 2025 Happy New Year & Merry Christmas</p>
    </div>
  </div>

  <div id="copyPopup">ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­! ğŸ„</div>

  <script>
    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø«Ù„Ø¬
    const snowBox = document.getElementById('snowBox');
    for(let i=0; i<15; i++){
        let s = document.createElement('div');
        s.className = 'snow';
        s.style.left = Math.random() * 100 + '%';
        s.style.animationDuration = (Math.random() * 3 + 4) + 's';
        s.style.animationDelay = Math.random() * 5 + 's';
        snowBox.appendChild(s);
    }

    const stepKeys = [
        "step1State_v1_unique79237247924792694692424",
        "step2State_v2_unique79237923792793279327932",
        "step3States_v7236253253723832323424242242_page8273263263623727837237",
        "step4States_v82372362326327328382382372"
    ];

    let activeStepInfo = null;
    let hasLeftPage = false;

    window.onload = () => {
        loadStates();
        checkFirstIncomplete();
    };

    window.onblur = () => { if(activeStepInfo) hasLeftPage = true; };
    window.onfocus = () => {
        if(activeStepInfo && hasLeftPage) {
            const elapsed = (Date.now() - activeStepInfo.startTime) / 1000;
            if(elapsed >= activeStepInfo.seconds) {
                finalizeStep(activeStepInfo.step);
                activeStepInfo = null;
                hasLeftPage = false;
            } else {
                document.getElementById("status" + activeStepInfo.step).innerText = "Ø¹Ø¯Øª Ù…Ø¨ÙƒØ±Ø§Ù‹! Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© Ø£ÙˆÙ„Ø§Ù‹.";
                document.getElementById("wait" + activeStepInfo.step).style.display = "block";
            }
        } else if(activeStepInfo && !hasLeftPage) {
            document.getElementById("wait" + activeStepInfo.step).style.display = "block";
        }
    };

    function handleStep(step, url, seconds) {
        if(document.getElementById("step"+step).classList.contains("completed")) return;
        
        if(step === 3) window.open("https://youtu.be/OfP1CgXp6Bk", "_blank");
        else if(url) window.open(url, "_blank");

        document.getElementById("check" + step).innerHTML = '<span class="loading"></span>';
        document.getElementById("status" + step).innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚... Ø§Ø¨Ù‚Ù ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…Ù‡Ù…Ø©";
        
        activeStepInfo = { step: step, startTime: Date.now(), seconds: seconds };
        hasLeftPage = false;
    }

    function finalizeStep(step) {
        const el = document.getElementById("step" + step);
        el.classList.add("completed");
        document.getElementById("check" + step).innerText = "âœ…";
        document.getElementById("status" + step).innerText = "ØªÙ…Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ¨";
        document.getElementById("wait" + step).style.display = "none";

        localStorage.setItem(stepKeys[step-1], JSON.stringify({ completed: true, timestamp: Date.now() }));
        
        const next = document.getElementById("step" + (step + 1));
        if(next) {
            next.classList.add("active");
            document.getElementById("status" + (step+1)).innerText = "Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨Ø¯Ø¡...";
            document.getElementById("check" + (step+1)).innerText = "â¡ï¸";
        }
        
        unlockButtons();
        updateProgressBar();
    }

    function loadStates() {
        stepKeys.forEach((key, index) => {
            const stepNum = index + 1;
            const data = JSON.parse(localStorage.getItem(key) || "{}");
            if(data.completed) {
                document.getElementById("step" + stepNum).classList.add("completed");
                document.getElementById("check" + stepNum).innerText = "âœ…";
                document.getElementById("status" + stepNum).innerText = "ØªÙ…Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ¨";
                if(stepNum < 4) {
                   const next = document.getElementById("step" + (stepNum + 1));
                   next.classList.add("active");
                   document.getElementById("status" + (stepNum+1)).innerText = "Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¨Ø¯Ø¡...";
                }
            }
        });
        updateProgressBar();
        unlockButtons();
    }

    function unlockButtons() {
        const allDone = [1,2,3,4].every(i => document.getElementById("step"+i).classList.contains("completed"));
        if(allDone) {
            document.getElementById("finalMessage").innerText = "âœ… ØªÙ… ØªÙ†ÙÙŠØ° ÙƒÙ„ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø¨Ù†Ø¬Ø§Ø­";
            document.getElementById("finalMessage").style.color = "#00ff00";
            document.getElementById("btnDownload").classList.add("active");
            
            if(!document.getElementById("btnGuide")){
              const guideBtn=document.createElement("a");
              guideBtn.id="btnGuide";
              guideBtn.href="https://youtu.be/7lC4HYzDJJ4";
              guideBtn.target="_blank";
              guideBtn.className="active";
              guideBtn.style.background = "linear-gradient(to bottom, #006600, #004d00)";
              guideBtn.style.color = "#fff";
              guideBtn.style.borderColor = "#00ff00";
              guideBtn.innerText="â“ Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ø¶ØºØ· Ù‡Ù†Ø§";
              document.querySelector(".final-buttons").appendChild(guideBtn);
            }
        }
    }

    function updateProgressBar() {
        let done = 0;
        for(let i=1; i<=4; i++) if(document.getElementById("step"+i).classList.contains("completed")) done++;
        document.getElementById("progressBar").style.width = (done/4)*100 + "%";
    }

    function checkFirstIncomplete() {
        for(let i=1; i<=4; i++) {
            if(!document.getElementById("step"+i).classList.contains("completed")) {
                setTimeout(() => { document.getElementById("step"+i).scrollIntoView({behavior:"smooth", block:"center"}); }, 600);
                break;
            }
        }
    }

    function goToDownload() { window.open("https://xdabo.com/9Lnnv7", "_blank"); }
    
    document.addEventListener("contextmenu", e => e.preventDefault());
    const downloadBtn = document.getElementById("btnDownload");
    
    function copyLink() {
        const link = downloadBtn.getAttribute("href");
        navigator.clipboard.writeText(link).then(() => {
            document.getElementById("copyPopup").innerText = "âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·: " + link;
            document.getElementById("copyPopup").style.opacity = 1;
            setTimeout(() => document.getElementById("copyPopup").style.opacity = 0, 2000);
        });
    }

    downloadBtn.addEventListener("contextmenu", e => { e.preventDefault(); copyLink(); });
  </script>
</body>
</html>
